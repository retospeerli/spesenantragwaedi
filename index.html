<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spesen-Textgenerator (PSW)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="wrap">

    <header class="header">
      <div>
        <h1>Spesen-Textgenerator</h1>
        <p class="sub">
          Personalien eingeben â†’ Pauschalen auswÃ¤hlen â†’ Text generieren. Danach kannst du frei editieren oder diktieren und per Copy/Outlook versenden.
        </p>
      </div>
      <div class="badge" title="EmpfÃ¤ngeradresse im Text ist fix">
        Schulverwaltung Â· Stefan BÃ¤ttig Â· Eintrachtstrasse 24
      </div>
    </header>

    <div class="grid2">
      <section class="card">
        <h2>Absenderdaten</h2>
        <p class="desc">Diese Angaben werden in den Text eingesetzt. Das Pensum wird nur fÃ¼r die Berechnung verwendet.</p>

        <div class="formgrid">
          <label>
            Vorname Nachname
            <input id="fullName" type="text" placeholder="z.B. Reto Speerli" autocomplete="name" />
          </label>

          <label>
            Funktion / Stelle
            <input id="role" type="text" placeholder="z.B. Klassenlehrperson" />
          </label>

          <label>
            Anstellungsgrad (%) (nur Berechnung)
            <input id="pensum" type="number" min="1" max="100" step="1" placeholder="z.B. 80" />
          </label>

          <label>
            E-Mail (optional)
            <input id="senderEmail" type="email" placeholder="z.B. vorname.nachname@..." autocomplete="email" />
          </label>
        </div>
      </section>

      <section class="card">
        <h2>Pauschalen</h2>
        <p class="desc">Live-Zusammenfassung wird unten automatisch aktualisiert.</p>

        <div class="checks">
          <label class="check">
            <input id="chkMobile" type="checkbox" checked />
            <div>
              <div class="title">Mobiltelefonpauschale (Art. 12)</div>
              <div class="hint">CHF 250.â€“ pro Jahr Ã— Pensum (z.B. 80% â†’ CHF 200.â€“)</div>
            </div>
          </label>

          <label class="check">
            <input id="chkMobility" type="checkbox" checked />
            <div>
              <div class="title">MobilitÃ¤tspauschale</div>
              <div class="hint">CHF 150.â€“ pro Jahr (fix)</div>
            </div>
          </label>
        </div>

        <div class="summary" aria-live="polite">
          <div class="line"><span>Mobiltelefonpauschale</span><strong id="sumMobile">â€”</strong></div>
          <div class="line"><span>MobilitÃ¤tspauschale</span><strong id="sumMobility">â€”</strong></div>
          <div class="line total"><span>Total (jÃ¤hrlich)</span><strong id="sumTotal">â€”</strong></div>
        </div>

        <div class="actions">
          <button id="btnGenerate" type="button">Text generieren</button>
          <button id="btnReset" type="button" class="ghost">ZurÃ¼cksetzen</button>
        </div>

        <p class="small">
          Im Text steht standardmÃ¤ssig: <strong>Anstellungsgrad: vgl. Pensenvereinbarung</strong>.
        </p>
      </section>
    </div>

    <section class="card">
      <h2>E-Mail-Text (editierbar)</h2>
      <p class="desc">Hier kannst du den generierten Text direkt anpassen â€“ per Tastatur oder Diktat.</p>

      <div class="toolbar">
        <button id="btnCopy" type="button">In Zwischenablage kopieren</button>
        <button id="btnOutlook" type="button" title="Ã–ffnet den Standard-Mailclient (typisch Outlook)">Per Outlook versenden</button>

        <span id="copyStatus" class="status" aria-live="polite"></span>
        <span id="outlookStatus" class="status" aria-live="polite"></span>

        <span class="spacer"></span>

        <button id="btnDictate" type="button" class="ghost">ğŸ™ï¸ Diktieren</button>
        <button id="btnStopDictate" type="button" class="ghost" disabled>â¹ï¸ Stop</button>
        <span id="dictStatus" class="status" aria-live="polite"></span>
      </div>

      <textarea id="emailText" spellcheck="true"
        placeholder="Klicke auf â€Text generierenâ€œ. Danach kannst du hier frei editieren oder diktieren."></textarea>

      <p class="small">
        Diktat: Cursor ins Textfeld setzen â†’ â€Diktierenâ€œ â†’ Text wird am Cursor eingefÃ¼gt (Chrome/Edge empfohlen).
      </p>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
